class FbViewHelper{
    // 1 hooson angi
    emptyRooms(rooms,range){
      var messageData = [];
      var elements=[];
      var quicker = true;
      if(rooms.length==0){
        var TextData={
          "text":"–°—É–ª ”©—Ä”©”© –æ–ª–¥—Å–æ–Ω–≥“Ø–π."
        }
        return TextData;
      }
      else if(rooms.length>0 && range==0){
        var TextData = {
          "text":rooms.length+" —Å—É–ª ”©—Ä”©”© –æ–ª–¥–ª–æ–æ."
        }
        messageData.push(TextData);
      }
        for (var i=range; i<rooms.length; i++){ 
          if(i>=range+10){ 
            quicker = false;
            break;
          }
          var instance = rooms[i];
          elements.push({
            "title":instance.department.value+"-"+instance.label1.value,
            "subtitle":instance.termType.value,
            "buttons":[
              {
                "type":"postback",
                "title":"–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π",
                "payload":instance.department.value+"-"+instance.label1.value+" ”©—Ä”©”©–Ω–∏–π –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π" 
              }
            ]
          });
      }
      var  messageAttachment = {
          "attachment":{
          "type":"template",
          "payload":{
            "template_type":"generic",
            "elements":elements
          }
        }
      }
      if(quicker == false){
        messageAttachment["quick_replies"]=[
          {
            "content_type":"text",
            "title":"–î–∞—Ä–∞–∞–≥–∏–π–Ω—Ö",
            "payload":"nextTenofLastQuestiontgeedgoynuutsug"
          }
        ];
      }
      messageData.push(messageAttachment);
      console.log(messageData);
      return messageData;
    }
    // 2 hicheeliin uruu
    lessonRooms(rooms,range){
      var messageData = [];
      var elements=[];
      var quicker = true;
      if(rooms.length==0){
        var TextData={
          "text":"–≠–Ω—ç —Ö–∏—á—ç—ç–ª –æ—Ä–∂ –±–∞–π–≥–∞–∞ ”©—Ä”©”© –æ–ª–¥—Å–æ–Ω–≥“Ø–π."
        }
        return TextData;
      }
      else if(rooms.length>0 && range==0){
        var TextData = {
          "text":rooms.length+" ”©—Ä”©”© –æ–ª–¥–ª–æ–æ."
        }
        messageData.push(TextData);
      }
        for (var i=range; i<rooms.length; i++){ 
          if(i>=range+10){ 
            quicker = false;
            break;
          }
          var instance = rooms[i];
          elements.push({
            "title":instance.department.value+"-"+instance.label1.value,
            "subtitle":instance.termType.value,
            "buttons":[
              {
                "type":"postback",
                "title":"–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π",
                "payload":instance.department.value+"-"+instance.label1.value+" ”©—Ä”©”©–Ω–∏–π –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π" 
              }
            ]
          });
      }
      var  messageAttachment = {
          "attachment":{
          "type":"template",
          "payload":{
            "template_type":"generic",
            "elements":elements
          }
        }
      }
      if(quicker == false){
        messageAttachment["quick_replies"]=[
          {
            "content_type":"text",
            "title":"–î–∞—Ä–∞–∞–≥–∏–π–Ω—Ö",
            "payload":"nextTenofLastQuestiontgeedgoynuutsug"
          }
        ];
      }
      messageData.push(messageAttachment);
      console.log(messageData);
      return messageData;
    }
    //3 gej hen be?
    sendListofFacultyMembers(members,range){
      var messageData = [];
      if(members.length==0){
        var TextData = {
          text:"–ò–π–º –Ω—ç—Ä—Ç—ç–π –∞–∂–∏–ª—Ç–∞–Ω –æ–ª–¥—Å–æ–Ω–≥“Ø–π."
        }
        return TextData;
      }
      else if(members.length>0&&range==0){
        var TextData ={
          text:"–ù–∏–π—Ç "+members.length+" –∞–∂–∏–ª—Ç–∞–Ω –æ–ª–¥–ª–æ–æ."
        }
        messageData.push(TextData);
      }
      var elements= [];
      var quicker = true;
      for (var i=range; i<members.length; i++){
        var instance = members[i];       
        if(i>=range+10){ 
          quicker = false;
          break;
        }
        elements.push({
            "title":instance.familyName.value+" "+instance.givenName.value,
            "subtitle":instance.department.value,
            "buttons":[
              {
                "type":"postback",
                "title":"–•–∏—á—ç—ç–ª“Ø“Ø–¥",
                "payload":((instance.email)?instance.email.value:"none@")+"-–Ω —ç–Ω—ç —É–ª–∏—Ä–∞–ª–¥ –æ—Ä–∂ –±—É–π —Ö–∏—á—ç—ç–ª“Ø“Ø–¥?"
              },
              {
                "type":"postback",
                "title":"–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π",
                "payload": ((instance.email)?instance.email.value:"none@")+" –≥—ç–∂ —Ö—ç–Ω –±—ç?"
              }
            ]
        });
    }
        var messageAttachment = {
          "attachment":{
            "type":"template",
            "payload":{
              "template_type":"generic",
              "elements":elements
            }
          }
        }
        if(quicker == false){
          messageAttachment["quick_replies"]=[
            {
              "content_type":"text",
              "title":"–î–∞—Ä–∞–∞–≥–∏–π–Ω—Ö",
              "payload":"nextTenofLastQuestiontgeedgoynuutsug"
            }
          ];
        }
        messageData.push(messageAttachment);
        return messageData;
    }
    // 4  gej hen be email
    sendDetailsOfFacultyMember(member){
      if(member == undefined){
        var text = {
          text:"–ê–∂–∏–ª—Ç–Ω—ã –º—ç–¥—ç—ç–ª—ç–ª –æ–ª–¥—Å–æ–Ω–≥“Ø–π"
        }
        return text;
      } 
      var messageData = {
        "attachment":{
          "type":"template",
          "payload":{
            "template_type":"button",
            "text": "üßë‚Äçüè´ "+member.familyName.value+" "+member.givenName.value+"\n"+
                  "üíº –ê–ª–±–∞–Ω —Ç—É—à–∞–∞–ª : "+member.job.value+" \n"+
                  "üè´ –ù—ç–≥–∂: "+member.department.value+" \n"+
                  "üìß –ú—ç–π–ª: "+ member.email.value+"\n"+
                  "üëü  ”®—Ä”©”©: "+(!(member.room1 === undefined)?
                  decodeURIComponent(member.room1.value.split("/")):
                  "–º—ç–¥—ç—ç–ª—ç–ª –±–∞–π—Ö–≥“Ø–π"),
            "buttons":[
              {
                "type":"postback",
                "title":"–°—É–¥–∞–ª–≥–∞–∞–Ω—ã —á–∏–≥–ª—ç–ª",
                "payload":member.email.value+"-–Ω —Å—É–¥–∞–ª–≥–∞–∞–Ω—ã —á–∏–≥–ª—ç–ª“Ø“Ø–¥?"
              },
              {
                "type":"postback",
                "title":"–ê–∂–∏–ª–ª–∞–∂ –±—É–π —Ç”©—Å–ª“Ø“Ø–¥",
                "payload":member.givenName.value+"-–Ω –∞–∂–∏–ª–ª–∞–∂ –±—É–π —Ç”©—Å–ª“Ø“Ø–¥?"
              }
            ]
          }
        }
      }
      return messageData;
    }
    // 5 gej ymar hicheel we
    courseList(courses,range){

      var messageData = [];
      if(courses.length==0){
        var TextData = {
          text:"–ò–π–º –Ω—ç—Ä—Ç—ç–π —Ö–∏—á—ç—ç–ª –æ–ª–¥—Å–æ–Ω–≥“Ø–π."
        }
        return TextData;
      }
      else if(courses.length>0&&range==0){
        var TextData ={
          text:"–ù–∏–π—Ç "+courses.length+" —Ö–∏—á—ç—ç–ª –æ–ª–¥–ª–æ–æ."
        }
        messageData.push(TextData);
      }
      var elements= [];
      var quicker = true;
        for (var i=range; i<courses.length; i++){ 
          if(i>=range+10){ 
            quicker = false;
            break;
          }
          var instance = courses[i];
          elements.push({
            "title":instance.courseName?instance.courseName.value:instance.CourseName.value,
            "subtitle":instance.depLabel?instance.depLabel.value:instance.Department.value,
            "buttons":[
              {
                "type":"postback",
                "title":"–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π",
                "payload": instance.courseName?instance.courseName.value+" —Ö–∏—á—ç—ç–ª–∏–π–Ω –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π –º—ç–¥—ç—ç–ª—ç–ª?":instance.CourseName.value+" —Ö–∏—á—ç—ç–ª–∏–π–Ω –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π –º—ç–¥—ç—ç–ª—ç–ª?"
              }
            ]
          });
      }
      var  messageAttachment = {
          "attachment":{
          "type":"template",
          "payload":{
            "template_type":"generic",
            "elements":elements
          }
        }
      }
      if(quicker == false){
        messageAttachment["quick_replies"]=[
          {
            "content_type":"text",
            "title":"–î–∞—Ä–∞–∞–≥–∏–π–Ω—Ö",
            "payload":"nextTenofLastQuestiontgeedgoynuutsug"
          }
        ];
      }
      messageData.push(messageAttachment);
      return messageData;
    }
    //6 hicheeliin tsagiin huwaari
    scheduleList(lessons,range,type){
      var tempArray = [];
      for(var i=0; i<lessons.length; i++){
          var temp = lessons[i];    
          if(temp.type.value=="–î–∞–≤–∞–∞"){
              tempArray.push(1);
          }
          if(temp.type.value=="–ú—è–≥–º–∞—Ä"){
              tempArray.push(2);
          }
          if(temp.type.value=="–õ—Ö–∞–≥–≤–∞"){
              tempArray.push(3);
          }
          if(temp.type.value=="–ü“Ø—Ä—ç–≤"){
              tempArray.push(4);
          }
          if(temp.type.value=="–ë–∞–∞—Å–∞–Ω"){
              tempArray.push(5);
          }
          if(temp.type.value=="–ë—è–º–±–∞"){
              tempArray.push(6);
          }
          if(temp.type.value=="–ù—è–º"){
              tempArray.push(7);
          }
      }
      
      let bubbleSort = (inputArr,body) => {
          let len = inputArr.length;
          for (let i = 0; i < len; i++) {
              for (let j = 0; j < len; j++) {
                  if (inputArr[j] > inputArr[j + 1]) {
                      let tmp = inputArr[j];
                      let nicetemp = body[j];
                      inputArr[j] = inputArr[j + 1];
                      body[j]=body[j+1];
                      inputArr[j + 1] = tmp;
                      body[j+1]=nicetemp;

                  }
              }
          }
          return body;
      };
      
      bubbleSort(tempArray,lessons);

      var messageData = [];
      if(lessons.length==0){
        var TextData = {
          text:"–•–∏—á—ç—ç–ª–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å –æ–ª–¥—Å–æ–Ω–≥“Ø–π."
        }
        return TextData;
      }
      else if(lessons.length>0&&range==0){
        var TextData;
        if(type==0){
          TextData ={
            text:"–õ–µ–∫—Ü“Ø“Ø–¥"
          }
        }
        else if(type==1){
          TextData ={
            text:"–°–µ–º–∏–Ω–∞—Ä—É—É–¥"
          }
        }
        if(type==2){
          TextData ={
            text:"–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—É–¥"
          }
        }
        messageData.push(TextData);
      }
      var elements= [];
      var quicker = true;
        for (var i=range; i<lessons.length; i++){ 
          if(i>=range+10){ 
            quicker = false;
            break;
          }
          var instance = lessons[i];
          elements.push({
            "title":instance.type.value+" "+instance.dt1.value,
            "subtitle":instance.Name.value,
            "buttons":[
              {
                "type":"postback",
                "title":instance.department.value+"-"+instance.label1.value,
                "payload":instance.department.value+"-"+instance.label1.value+" ”©—Ä”©”©–Ω–∏–π –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π" 
              }
            ]
          });
      }
      var  messageAttachment = {
        "attachment":{
        "type":"template",
        "payload":{
          "template_type":"generic",
          "elements":elements
            }
          },
          quick_replies:[
          ]
        }
        if(type==0){
          messageAttachment.quick_replies.push(
            {
              "content_type":"text",
              "title":"—Å–µ–º–∏–Ω–∞—Ä",
              "payload":lessons[0].courseName.value+"-—Å–µ–º–∏–Ω–∞—Ä"
            },
            {
              "content_type":"text",
              "title":"–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏",
              "payload":lessons[0].courseName.value+"-–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏"
            }
          )
        }
        if(type==1){
          messageAttachment.quick_replies.push(
            {
              "content_type":"text",
              "title":"–ª–µ–∫—Ü",
              "payload":lessons[0].courseName.value+" —Ö–∏—á—ç—ç–ª–∏–π–Ω —Ü–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å"
            },
            {
              "content_type":"text",
              "title":"–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏",
              "payload":lessons[0].courseName.value+"-–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏"
            }
          )
        }
        if(type==2){
          messageAttachment.quick_replies.push(
            {
              "content_type":"text",
              "title":"—Å–µ–º–∏–Ω–∞—Ä",
              "payload":lessons[0].courseName.value+"-—Å–µ–º–∏–Ω–∞—Ä"
            },
            {
              "content_type":"text",
              "title":"–ª–µ–∫—Ü",
              "payload":lessons[0].courseName.value+" —Ö–∏—á—ç—ç–ª–∏–π–Ω —Ü–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å"
            }
          )
        }
        if(quicker == false){
          messageAttachment.quick_replies.push(
            {
              "content_type":"text",
              "title":"–î–∞—Ä–∞–∞–≥–∏–π–Ω—Ö",
              "payload":"nextTenofLastQuestiontgeedgoynuutsug"
            }
          );
        }
    messageData.push(messageAttachment);
    return messageData;
    }
    //7 uruunii delgerengui
    roomDetails(room){
      if(room==undefined){
        var messageData = {
          "text":"”®—Ä”©”©–Ω–∏–π –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π –º—ç–¥—ç—ç–ª—ç–ª –æ–ª–¥—Å–æ–Ω–≥“Ø–π."
        }
        return messageData;
      }
      var messageData = {
        "text": "üéí "+ room.type.value+" "+room.number.value + "\n"+
                "ü™ë –°—É—É–¥–ª—ã–Ω —Ç–æ–æ: "+room.seat.value+" \n"+
                "üñ• –ü—Ä–æ–µ–∫—Ç–æ—Ä: "+ room.val.value+"\n"+
                "üè´ –ë–∞–π—Ä: "+room.build.value
      }
      return messageData;
    }
    //8 hicheeliin delgerengui 
    courseDetails(course){
      if(course==undefined){
        var messageData = {
          "text":"–•–∏—á—ç—ç–ª–∏–π–Ω –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π –º—ç–¥—ç—ç–ª—ç–ª –æ–ª–¥—Å–æ–Ω–≥“Ø–π."
        }
        return messageData;
      }
      var messageData = {
        "text": "üìñ "+course.courseName.value+" "+course.courseCredit.value+"\n"+
                "ü•Ω –°—É—Ä–≥–∞–ª—Ç—ã–Ω —Ç“Ø–≤—à–∏–Ω: "+course.courseDegree.value+" \n"+
                "üè´ –•–∞—Ä—å—è–∞–ª–∞–≥–¥–∞—Ö —Ç—ç–Ω—Ö–∏–º: "+course.depLabel.value+" \n\n"+
                "üìù –¢–æ–≤—á –∞–≥—É—É–ª–≥–∞: "+course.courseDescrip.value+"\n",
        "quick_replies":[
          {
            "content_type":"text",
            "title":"–ë–∞–≥—à",
            "payload":course.courseName.value +" —Ö–∏—á—ç—ç–ª–∏–π–≥ —Ö—ç–Ω –∑–∞–∞–¥–∞–≥ –±—ç?"
          },{
            "content_type":"text",
            "title":"–•—É–≤–∞–∞—Ä—å",
            "payload":course.courseName.value +" —Ö–∏—á—ç—ç–ª–∏–π–Ω —Ü–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å?"
          }
        ]
      }
      return messageData;
    }
    //11 tusul
    projectList(projects,range){
      var messageData = [];
      if(projects.length==0){
        var TextData = {
          text:"–¢”©—Å”©–ª –æ–ª–¥—Å–æ–Ω–≥“Ø–π."
        }
        return TextData;
      }
      else if(projects.length>0&&range==0){
        var TextData ={
          text:"–ù–∏–π—Ç "+projects.length+" —Ç”©—Å”©–ª –æ–ª–¥–ª–æ–æ."
        }
        messageData.push(TextData);
      }
      var elements= [];
      var quicker = true;
        for (var i=range; i<projects.length; i++){ 
          if(i>=range+10){ 
            quicker = false;
            break;
          }
          var instance = projects[i];
          elements.push({
            "title":instance.ProjectName.value,
            "subtitle":instance.date.value,
            "buttons":[
              {
                "type":"postback",
                "title":"–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π",
                "payload":instance.Project.value+" —Ç”©—Å–ª–∏–π–Ω –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π –º—ç–¥—ç—ç–ª—ç–ª?"
              }
            ]
          });
      }
      var  messageAttachment = {
        "attachment":{
        "type":"template",
        "payload":{
          "template_type":"generic",
          "elements":elements
            }
          }
        }
        if(quicker == false){
          messageAttachment["quick_replies"]=[
            {
              "content_type":"text",
              "title":"–î–∞—Ä–∞–∞–≥–∏–π–Ω—Ö",
              "payload":"nextTenofLastQuestiontgeedgoynuutsug"
            }
          ];
        }
    messageData.push(messageAttachment);
    return messageData;
    }
    //12 sudalgaa
    researchList(researchs,range){
      var messageData = [];
      if(researchs.length==0){
        var TextData = {
          text:"–°—É–¥–∞–ª–≥–∞–∞–Ω—ã —á–∏–≥–ª—ç–ª –æ–ª–¥—Å–æ–Ω–≥“Ø–π."
        }
        return TextData;
      }
      else if(researchs.length>0&&range==0){
        var TextData ={
          text:"–ù–∏–π—Ç "+researchs.length+" —Å—É–¥–∞–ª–≥–∞–∞–Ω—ã —á–∏–≥–ª—ç–ª –æ–ª–¥–ª–æ–æ."
        }
        messageData.push(TextData);
      }
      var elements= [];
      var quicker = true;
        for (var i=range; i<researchs.length; i++){ 
          if(i>=range+10){ 
            quicker = false;
            break;
          }
          var instance = researchs[i];
          elements.push({
            "title":instance.ResearchName.value,
            "subtitle":"tap to search",
            "default_action": {
              "type": "web_url",
              "url": "https://www.google.com/search?q="+instance.ResearchName.value,
              "webview_height_ratio": "tall"
            },
          });
      }
      var  messageAttachment = {
        "attachment":{
        "type":"template",
        "payload":{
          "template_type":"generic",
          "elements":elements
            }
          }
        }
        if(quicker == false){
          messageAttachment["quick_replies"]=[
            {
              "content_type":"text",
              "title":"–î–∞—Ä–∞–∞–≥–∏–π–Ω—Ö",
              "payload":"nextTenofLastQuestiontgeedgoynuutsug"
            }
          ];
        }
    messageData.push(messageAttachment);
    return messageData;
    }
    //13 tusliin delgerengui
    // üéìü•ºü•Ωüëìüß≥üíºüéíüëüüßë‚Äçüè´üßë‚Äçüéìüß†‚úçÔ∏èüîçüîéüìùüìåüìñüìòüìóüìïüìíüìîüìôüóûüìßüè´üîî‚úÖüíØ
    projectDetails(project){
      var messageData = {
        "text": "üíº "+project.ProjectName.value+"\n"+
                "üìå –¢”©—Å–ª–∏–π–Ω “Ø–Ω–¥—Å—ç–Ω —Ç”©—Ä”©–ª: "+project.category.value+" \n"+
                "üìò –¢”©—Å–ª–∏–π–Ω —Ç”©—Ä”©–ª: "+project.type.value+" \n"+
                "üè´ –•–∞—Ä—å—è–∞ —Ç—ç–Ω—Ö–∏–º: "+project.depName.value+" \n"+ 
                "üóû –°–∞–Ω—Ö“Ø“Ø–∂“Ø“Ø–ª—ç–≥—á –±–∞–π–≥—É—É–ª–ª–∞–≥–∞: "+project.funforgName.value+" \n"+
                "üßë‚Äçüè´ –¢”©—Å–ª–∏–π–Ω —É–¥–∏—Ä–¥–∞–≥—á: "+project.PersonName.value+" \n"+
                "üïñ –•—ç—Ä—ç–≥–∂–∏—Ö —Ö—É–≥–∞—Ü–∞–∞: "+project.date.value+" \n"+
                "üóû –°–∞–Ω—Ö“Ø“Ø–∂“Ø“Ø–ª—ç–ª—Ç–∏–π–Ω –¥“Ø–Ω /—Ç”©–≥: "+project.cost.value
      }
      return messageData;
    }
}
module.exports.FbViewHelper = FbViewHelper;